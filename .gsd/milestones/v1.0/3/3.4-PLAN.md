# Phase 3, Plan 3.4: Advanced Scenario Variety

## Objective
Expand the `scenarioCategory` dictionary to cover more niche domains, and build a system in `/api/confidence-coach/generate-questions` to ensure generated questions are never repeated consecutively for the same user session.

## Context
Currently, the questions generated for "Job Interview" could theoretically be identical back-to-back if Gemini feels uninspired. We also only have 4 basic categories. REQ-04 mandates "advanced scenario variety".

## Implementation Steps
1. **Expand Categories**: In `ConfidenceCoachUI.jsx`:
    - Add `["Job Interview", "Presentation", "Networking", "Negotiation", "Crisis Management", "Impromptu Pitch", "Hostile Q&A", "Salary Discussion"]` to the scenarios array.
    - Render these neatly in the dropdown.
2. **Contextual History (Gemini Anti-Repetition)**:
    - Pass a new `previousQuestions` array (stored in `ConfidenceCoachUI.jsx` state) into the `POST` payload when fetching a new question.
    - Inside `route.js`, append an explicit instruction to the Gemini prompt: `DO NOT generate any of the following questions: ${previousQuestions.join(', ')}`.
3. **Save History**: Every time `setQuestion(data.question)` fires, push `data.question` into the array so it's excluded next time.

## Validation
Test generating 5 questions in a row for "Hostile Q&A". Confirm none match the exact phrasing of the prior 4.
